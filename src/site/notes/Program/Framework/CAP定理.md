---
{"dg-publish":true,"permalink":"/Program/Framework/CAP定理/","noteIcon":""}
---

CAP定理是由计算机科学家Eric Brewer提出的一个理论，描述了分布式系统在数据存储和管理中面临的三个基本特性，并指出在这三个特性中，系统只能同时满足其中的两个。CAP定理的三个特性是：
1. **一致性（Consistency）**：所有节点在同一时间看到的数据是一致的，即每个读操作都能获取到最新写入的数据。简单来说，如果一个操作更新了数据，那么任何后续的读操作都能看到这个更新。
2. **可用性（Availability）**：每个请求都会在有限的时间内得到响应，无论是成功还是失败。即使系统的一部分出现故障，系统整体仍能继续提供服务。
3. **分区容错性（Partition Tolerance）**：系统在网络分区（即节点间通信中断）的情况下仍然能够继续操作。即使一些节点无法互相通信，系统仍然能够继续处理请求。

### CAP定理的权衡

- **一致性 + 可用性（无分区容错性）**：在没有网络分区的情况下，系统可以保证一致性和可用性。但在面对网络分区时，系统可能会选择牺牲一致性或者可用性。
- **一致性 + 分区容错性（无可用性）**：系统在面对网络分区时，仍然能够保持一致性，但可能会在一些情况下拒绝处理请求，从而牺牲可用性。
- **可用性 + 分区容错性（无一致性）**：系统在面对网络分区时，能够保持可用性，但可能会出现不同节点之间的数据不一致问题。

### 实际应用

在实际的分布式系统中，设计者需要根据具体应用的需求来权衡这三个特性。例如：

- **分布式数据库系统（如Cassandra、MongoDB）**可能会牺牲一致性以获得更高的可用性和分区容错性。
- **分布式事务系统（如Google Spanner）**可能会牺牲部分可用性以保证一致性和分区容错性。